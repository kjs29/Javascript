In JavaScript, there is really important thing to know besides its syntax.

It is DOM Manipulation.

# What is a DOM?

DOM stands for Document Object Model.

JavaScript language was made for websites specifically.

And each web page is a document written in HTML.

With using JavaScript, we can traverse DOM, and also manipulate DOM.

HTML typcially looks like this.

```html
<html>
    <head></head>
    <body>
        <header></header>
        <main>
            <div>
                <h1></h1>
                <p></p>
            </div>
        </main>
        <footer></footer>
    </body>
</html>
```

All elements except for html element has parent element, and some parent element can have multiple child elements.

For example, div has two child elements h1, and p.

# It is important to know how to find the right element.

We can traverse the document using document.

Script is a program that browser runs, so we can use script tag either in html file, or in a separate file.

We can access h1 tag like this.

```js
let h1 = document.getElementById('h1');
```

now h1 represents the first h1 tag it appears in the file. 

The `getElementById()` methods returns the first element object that has the same id string as the argument.

There should be only one id in each file.

We can use other methods to select element(s).

```
querySelector()

getElementsByTagsName()

getElementsByClassName()

getElementById()

querySelector()

querySelectorAll()
```

They are the most popular methods to select element(s).

Also, we can use the following methods to find parent elements, child elements, etc.

```
parentNode

childrenNodes

firstElementChild

lastElementChild

nextElementSibling

previousElementSibling
```


# It is also important to manipulate DOM.

Let's consider the following example.

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        <h1>hello</h1>
        <code>hello</code>
    </div>
</body>
</html>
```

For example, if we want to change the code tag to `print('hello world')`, we can use the following example.

```js
let code = document.getElementsByTagName('code')[0];
code.textContent = 'print("hello world")';
```

And we can see that code element is changed to `print("hello world")`.

## Another example

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            display: flex;
            height: 100vh;
        }

        .box {
            margin: auto;
            width: 400px;
            height: 400px;
            background: pink;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>
    <div class="box">
        <p>You have two choices</p>
        <p>You will become...</p>
        <h1 id="job">poor</h1>
        <button>click me</button>
    </div>
    <script>
    </script>
</body>
</html>

```

Now h1 tag has poor text inside, what should we do to change it to "rich" once we click the button?

Let's start.

```js
// select button
let button = document.getElementsByTagName('button')[0];

// select h1
let h1 = document.getElementById('job');

// once button is clicked, change h1 tag's text to 'rich'
button.addEventListener('click', ()=>{
    h1.textContent = 'rich';
});
```

[image]

We can use addEventListener to manipulate events.

# How to create an element?

We have a simple document.

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        <h1>DOM</h1>
        <p>Traverse the DOM</p>
    </div>
</body>
</html>
```

If we want to add `<p>Manipulate the DOM</p>`, then we can add the following code.

```js
let div = document.getElementsByTagName('div')[0];

let p = document.createElement('p');
p.textContent = "Manipulate the DOM";

div.appendChild(p);
```

# Another Example

Let's take a look at this example. 

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1 id="keyLog"></h1>
</body>
</html>
```

We want the h1 to appear "Up pressed" if Up Key arrow is pressed.

"Down pressed" if Down Key arrow is pressed.

Same goes for left and right keys.

```js
<script>
    let key = document.getElementById('keyLog');
    
    document.addEventListener('keydown', event => {
        const keyPressed = event.key;
        
        switch (keyPressed) {
            case 'ArrowUp':
                key.textContent = "Up pressed";
                break;
            case 'ArrowDown':
                key.textContent = "Down pressed";
                break;
            case 'ArrowRight':
                key.textContent = "Right pressed";
                break;
            case 'ArrowLeft':
                key.textContent = "Left pressed";
                break;
        }
    });
</script>
```

We can write addEventListener to document(the entire html file), and add keydown type.
